<loading *ngIf="isLoading"></loading>

<div *ngIf="!isLoading"
    class="min-h-min w-full md:w-4/5 lg:w-1/2 mb-5 p-6 rounded shadow shadow-slate-400 bg-white">
    <div class="mb-10 text-2xl font-bold">
        <div>Add account</div>
    </div>

    <form [formGroup]="addAccountForm" (ngSubmit)="onSubmit()">

        <div class="flex flex-row gap-7">
            <div (click)="setAccountType($event)"
            [ngClass]="[cardAccountTypeStatus]"
            class="min-h-min w-full text-center p-6 rounded shadow hover:shadow-md shadow-slate-400 hover:shadow-slate-400 bg-slate-100 hover:cursor-pointer">
                <div class="flex flex-col">
                    <div class="text-5xl"><i class="fas fa-university"></i></div>
                    <div class="mt-2 font-bold">Bank</div>
                </div>
            </div>

            <div class="min-h-min w-full text-center p-6 rounded shadow hover:shadow-md shadow-slate-400 hover:shadow-slate-400 bg-slate-100 hover:cursor-pointer">
                <div class="flex flex-col">
                    <div class="text-5xl"><i class="fas fa-credit-card"></i></div>
                    <div class="mt-2 font-bold">Credit Card</div>
                </div>
            </div>

            <div class="min-h-min w-full text-center p-6 rounded shadow hover:shadow-md shadow-slate-400 hover:shadow-slate-400 bg-slate-100 hover:cursor-pointer">
                <div class="flex flex-col">
                    <div class="text-5xl"><i class="fas fa-university"></i></div><!-- fas fa-vault -->
                    <div class="mt-2 font-bold">Investment</div>
                </div>
            </div>

            <div class="min-h-min w-full text-center p-6 rounded shadow hover:shadow-md shadow-slate-400 hover:shadow-slate-400 bg-slate-100 hover:cursor-pointer">
                <div class="flex flex-col">
                    <div class="text-5xl"><i class="fas fa-wallet"></i></div>
                    <div class="mt-2 font-bold">Cash</div>
                </div>
            </div>   
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="account">Account</label>
        </div>
        <input formControlName="account"
            type="text"
            class="mb-1 w-full appearance-none block bg-slate-200 text-slate-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['account'].valid"
            id="account"
            placeholder="eg. Caja de Ahorro"
            aria-describedby="accountHelp">
        <div id="accountHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['account'].hasError('required')">* The field is required.</span><br>
            <span [class.has-errors]="addAccountForm.controls['account'].hasError('minlength')">* Minimum length 6 characters.</span><br>
            Make sure you don't add an account that already exists.
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="currency">Currency</label>
        </div>
        <select formControlName="currency"
            class="mb-1 w-full block bg-slate-200 text-slate-700 border rounded py-3 px-3 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['currency'].valid"
            id="currency"
            aria-describedby="currencyHelp">
            <option [ngValue]=null>Select a currency</option>
            <option *ngFor="let currency of currencies" [ngValue]="currency">{{currency.currency}}</option>
        </select>
        <div id="currencyHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['currency'].hasError('required')">* The field is required.</span><br>
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="bank">Bank</label>
        </div>
        <select formControlName="bank"
            class="mb-1 w-full block bg-slate-200 text-slate-700 border rounded py-3 px-3 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['bank'].valid"
            id="bank"
            aria-describedby="bankHelp">
            <option [ngValue]=null>Select a bank</option>
            <option *ngFor="let bank of banks" [ngValue]="bank">{{bank.name}}</option>
        </select>
        <div id="bankHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['bank'].hasError('required')">* The field is required.</span><br>
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="cbu">CBU</label>
        </div>
        <input formControlName="cbu"
            type="text"
            class="mb-1 w-full appearance-none block bg-slate-200 text-slate-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['cbu'].valid"
            id="cbu"
            placeholder="eg. 2000015468432872300148"
            aria-describedby="cbuHelp">
        <div id="cbuHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['cbu'].hasError('required')">* The field is required.</span><br>
            <span [class.has-errors]="addAccountForm.controls['cbu'].hasError('minlength') || addAccountForm.controls['cbu'].hasError('maxlength')">* Length must be 22 characters.</span><br>
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="accountNumber">Account number</label>
        </div>
        <input formControlName="accountNumber"
            type="text"
            class="mb-1 w-full appearance-none block bg-slate-200 text-slate-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['accountNumber'].valid"
            id="accountNumber"
            placeholder="eg. 4017977-9 047-4"
            aria-describedby="accountNumberHelp">
        <div id="accountNumberHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['accountNumber'].hasError('required')">* The field is required.</span><br>
            <span [class.has-errors]="addAccountForm.controls['accountNumber'].hasError('minlength')">* Minimum length 6 characters.</span><br>
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="alias">Alias</label>
        </div>
        <input formControlName="alias"
            type="text"
            class="mb-1 w-full appearance-none block bg-slate-200 text-slate-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['alias'].valid"
            id="alias"
            placeholder="eg. NIETO.LINO.TORSO"
            aria-describedby="aliasHelp">
        <div id="aliasHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['alias'].hasError('required')">* The field is required.</span><br>
            <span [class.has-errors]="addAccountForm.controls['alias'].hasError('minlength')">* Minimum length 6 characters.</span><br>
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="creditCardBrand">Brand</label>
        </div>
        <select formControlName="creditCardBrand"
            class="mb-1 w-full block bg-slate-200 text-slate-700 border rounded py-3 px-3 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['creditCardBrand'].valid"
            id="creditCardBrand"
            aria-describedby="creditCardBrandHelp">
            <option [ngValue]=null>Select a brand</option>
            <option *ngFor="let brand of brands" [ngValue]="brand">{{brand}}</option>
        </select>
        <div id="creditCardBrandHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['creditCardBrand'].hasError('required')">* The field is required.</span><br>
        </div>

        <div class="font-bold text-lg mb-2">
            <label for="creditCardNumber">Credit card number</label>
        </div>
        <input formControlName="creditCardNumber"
            type="text"
            class="mb-1 w-full appearance-none block bg-slate-200 text-slate-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['creditCardNumber'].valid"
            id="creditCardNumber"
            placeholder="eg. 4546 9000 2653 8443"
            aria-describedby="creditCardNumberHelp">
        <div id="creditCardNumberHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['creditCardNumber'].hasError('required')">* The field is required.</span><br>
            <span [class.has-errors]="addAccountForm.controls['creditCardNumber'].hasError('minlength')">* Minimum length 6 characters.</span><br>
        </div>
    
        <div class="font-bold text-lg mb-2">
            <label for="expiration">Expiration</label>
        </div>
        <input formControlName="expiration"
            type="date"
            class="mb-1 w-full appearance-none block bg-slate-200 text-slate-700 border rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-slate-500"
            [class.not-valid]="!addAccountForm.controls['expiration'].valid"
            id="expiration"
            placeholder="eg. 2000015468432872300148"
            aria-describedby="expirationHelp">
        <div id="expirationHelp" class="mb-3 text-sm text-slate-600">
            <span [class.has-errors]="addAccountForm.controls['expiration'].hasError('required')">* The field is required.</span><br>
        </div>

    </form>
</div>
